(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"fetchData",function(){return f}),n.d(r,"fetchSuccess",function(){return s}),n.d(r,"fetchError",function(){return E}),n.d(r,"add",function(){return p}),n.d(r,"remove",function(){return O});var a={};n.r(a),n.d(a,"fetchData",function(){return C}),n.d(a,"fetchSuccess",function(){return R}),n.d(a,"fetchError",function(){return _});var c=n(0),u=n.n(c),o=n(5),i=n.n(o),l=n(1),d=n(2),f=function(){return{type:"TODOS_FETCH"}},s=function(t){return{type:"TODOS_FETCH_SUCCESS",payload:t}},E=function(t){return{type:"TODOS_FETCH_ERROR",payload:t}},p=function(t){return{type:"TODOS_ADD",payload:t}},O=function(t){return{type:"TODOS_REMOVE",payload:t}};var m=n(3),h=function(t){t(f()),fetch("https://jsonplaceholder.typicode.com/todos?_limit=2").then(function(t){return t.json()}).then(function(e){return t(s(e))}).catch(function(e){return t(E(e))})},S=function(t,e){switch(e.type){case"TODOS_FETCH":return Object(l.a)({},t,{loading:!0});case"TODOS_FETCH_SUCCESS":return{loading:!1,data:e.payload};case"TODOS_FETCH_ERROR":return{loading:!1};case"TODOS_ADD":return Object(l.a)({},t,{data:[].concat(Object(m.a)(t.data),[e.payload])});case"TODOS_REMOVE":return Object(l.a)({},t,{data:Object(m.a)(t.data.filter(function(t){return t.id!==e.payload}))});default:return t}},y=function(){var t=U(),e=t.todos,n=t.dispatch,r=Object(c.useState)(""),a=Object(d.a)(r,2),o=a[0],i=a[1];return u.a.createElement("div",null,u.a.createElement("h1",null,"TodosList"),u.a.createElement("form",{onSubmit:function(t){t.preventDefault(),n(p({id:Math.random(),title:o})),i("")}},u.a.createElement("input",{style:{marginRight:"8px"},value:o,onChange:function(t){i(t.target.value)}}),u.a.createElement("button",{type:"submit"},"Add"),e.loading?u.a.createElement("div",null,"Loading..."):u.a.createElement("ul",null,e.data.map(function(t){return u.a.createElement("li",{key:t.id},u.a.createElement("span",{style:{marginRight:"8px"}},t.title),u.a.createElement("button",{type:"button",onClick:function(){return e=t.id,void n(O(e));var e}},"Remove"))}))))},C=function(){return{type:"USER_FETCH"}},R=function(t){return{type:"USER_FETCH_SUCCESS",payload:t}},_=function(t){return{type:"USER_FETCH_ERROR",payload:t}},b=function(t){t(C()),fetch("https://jsonplaceholder.typicode.com/users/1").then(function(t){return t.json()}).then(function(e){return t(R(e))}).catch(function(e){return t(_(e))})},g=function(t){return b(t)},T=function(t,e){switch(e.type){case"USER_FETCH":return console.log("fetchData"),Object(l.a)({},t,{loading:!0});case"USER_FETCH_SUCCESS":return console.log("fetchSuccess"),{loading:!1,data:e.payload};case"USER_FETCH_ERROR":return{loading:!1};default:return t}},v=function(){var t=U(),e=t.user,n=t.dispatch;return u.a.createElement("div",null,u.a.createElement("h1",null,"User Info"),u.a.createElement("button",{type:"button",onClick:function(){b(n)}},"Renew UserInfo"),u.a.createElement("p",null,e.loading?"Loading...":JSON.stringify(e.data)))},j={todos:{data:[],loading:!1},user:{data:[],loading:!1}},D=function(t,e){var n=t.todos,r=t.user;return{todos:S(n,e),user:T(r,e)}},F=[function(t){return h(t)},function(t){return g(t)}],H=Object(c.createContext)(),U=function(){return Object(c.useContext)(H)},w=function(t){var e=t.children,n=Object(c.useReducer)(D,j),r=Object(d.a)(n,2),a=r[0],o=r[1];return function(t,e){Object(c.useEffect)(function(){e.forEach(function(e){e(t)})},[t,e])}(o,F),u.a.createElement(H.Provider,{value:Object(l.a)({dispatch:o},a)},e)},k=function(){return u.a.createElement(w,null,u.a.createElement(c.Fragment,null,u.a.createElement(v,null),u.a.createElement(y,null)))};i.a.render(u.a.createElement(k,null),document.getElementById("root"))},6:function(t,e,n){t.exports=n(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.5e46d9fd.chunk.js.map