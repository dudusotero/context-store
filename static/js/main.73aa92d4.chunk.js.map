{"version":3,"sources":["components/TodosList/actions.js","components/TodosList/middleware.js","components/TodosList/index.js","components/TodosList/reducer.js","components/TodosList/TodosList.jsx","components/UserInfo/actions.js","components/UserInfo/services.js","components/UserInfo/index.js","components/UserInfo/middleware.js","components/UserInfo/reducer.js","components/UserInfo/UserInfo.jsx","store/reducers.js","store/middlewares.js","store/index.js","helpers/middlewareCaller.js","App.js","index.js"],"names":["fetchData","type","fetchSuccess","payload","fetchError","add","remove","todosMiddleware","dispatch","fetch","then","response","json","catch","err","todosReducer","state","action","Object","objectSpread","loading","data","concat","toConsumableArray","filter","todo","id","TodosList","_useStore","useStore","todos","_useState","useState","_useState2","slicedToArray","input","setInput","react_default","a","createElement","onSubmit","e","preventDefault","todosActions","Math","random","title","style","marginRight","value","onChange","target","map","key","onClick","getUserInfo","userMiddleware","userReducer","UserInfo","user","JSON","stringify","initialState","reducers","_ref","store_middlewares","Context","createContext","useContext","ContextProvider","children","_useReducer","useReducer","reducer","_useReducer2","middlewares","useEffect","forEach","func","middlewareCaller","Provider","App","store_ContextProvider","react","components_UserInfo","components_TodosList","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.73aa92d4.chunk.js","sourcesContent":["export const fetchData = () => ({\n  type: 'TODOS_FETCH',\n})\n\nexport const fetchSuccess = payload => ({\n  type: 'TODOS_FETCH_SUCCESS',\n  payload,\n})\n\nexport const fetchError = payload => ({\n  type: 'TODOS_FETCH_ERROR',\n  payload,\n})\n\nexport const add = payload => ({\n  type: 'TODOS_ADD',\n  payload,\n})\n\nexport const remove = payload => ({\n  type: 'TODOS_REMOVE',\n  payload,\n})\n","import { fetchData, fetchSuccess, fetchError } from './actions'\n\nexport default (dispatch) => {\n  dispatch(fetchData())\n  fetch('https://jsonplaceholder.typicode.com/todos?_limit=2')\n    .then(response => response.json())\n    .then(json => dispatch(fetchSuccess(json)))\n    .catch(err => dispatch(fetchError(err)))\n}\n","import TodosList from './TodosList'\nimport * as actions from './actions'\nimport middleware from './middleware'\nimport reducer, { initialState } from './reducer'\n\nexport const todosActions = actions\nexport const todosMiddleware = middleware\nexport const todosReducer = reducer\nexport const todosInitialState = initialState\n\nexport default TodosList\n","export const initialState = {\n  data: [],\n  loading: false,\n}\n\nexport default (state, action) => {\n  switch (action.type) {\n    case 'TODOS_FETCH':\n      return { ...state, loading: true }\n    case 'TODOS_FETCH_SUCCESS':\n      return { loading: false, data: action.payload }\n    case 'TODOS_FETCH_ERROR':\n      return { loading: false }\n    case 'TODOS_ADD':\n      return { ...state, data: [...state.data, action.payload] }\n    case 'TODOS_REMOVE':\n      return {\n        ...state,\n        data: [...state.data.filter(todo => todo.id !== action.payload)],\n      }\n    default:\n      return state\n  }\n}\n","import React, { useState } from 'react'\n\nimport { useStore } from '../../store'\nimport * as todosActions from './actions'\n\nexport default function TodosList() {\n  const { todos, dispatch } = useStore()\n\n  const [input, setInput] = useState('')\n\n  function handleChange(e) {\n    setInput(e.target.value)\n  }\n\n  function addTodo(e) {\n    e.preventDefault()\n    dispatch(todosActions.add({ id: Math.random(), title: input }))\n    setInput('')\n  }\n\n  function removeTodo(id) {\n    dispatch(todosActions.remove(id))\n  }\n\n  return (\n    <div>\n      <h1>TodosList</h1>\n      <form onSubmit={addTodo}>\n        <input\n          style={{ marginRight: '8px' }}\n          value={input}\n          onChange={handleChange}\n        />\n        <button type=\"submit\">Add</button>\n        {todos.loading ? (\n          <div>Loading...</div>\n        ) : (\n          <ul>\n            {todos.data.map(todo => (\n              <li key={todo.id}>\n                <span style={{ marginRight: '8px' }}>{todo.title}</span>\n                <button type=\"button\" onClick={() => removeTodo(todo.id)}>\n                  Remove\n                </button>\n              </li>\n            ))}\n          </ul>\n        )}\n      </form>\n    </div>\n  )\n}\n","export const fetchData = () => ({\n  type: 'USER_FETCH',\n})\n\nexport const fetchSuccess = payload => ({\n  type: 'USER_FETCH_SUCCESS',\n  payload,\n})\n\nexport const fetchError = payload => ({\n  type: 'USER_FETCH_ERROR',\n  payload,\n})\n","import { fetchData, fetchSuccess, fetchError } from './actions'\n\nexport const getUserInfo = (dispatch) => {\n  dispatch(fetchData())\n  fetch('https://jsonplaceholder.typicode.com/users/1')\n    .then(response => response.json())\n    .then(json => dispatch(fetchSuccess(json)))\n    .catch(err => dispatch(fetchError(err)))\n}\n","import UserInfo from './UserInfo'\nimport * as actions from './actions'\nimport middleware from './middleware'\nimport reducer, { initialState } from './reducer'\n\nexport const userActions = actions\nexport const userMiddleware = middleware\nexport const userReducer = reducer\nexport const userInitialState = initialState\n\nexport default UserInfo\n","import { getUserInfo } from './services'\n\nexport default dispatch => getUserInfo(dispatch)\n","export const initialState = {\n  data: [],\n  loading: false,\n}\n\nexport default (state, action) => {\n  switch (action.type) {\n    case 'USER_FETCH':\n      return { ...state, loading: true }\n    case 'USER_FETCH_SUCCESS':\n      return { loading: false, data: action.payload }\n    case 'USER_FETCH_ERROR':\n      return { loading: false }\n    default:\n      return state\n  }\n}\n","import React from 'react'\n\nimport { useStore } from '../../store'\nimport { getUserInfo } from './services'\n\nconst UserInfo = () => {\n  const { user, dispatch } = useStore()\n\n  function refreshData() {\n    getUserInfo(dispatch)\n  }\n\n  return (\n    <div>\n      <h1>User Info</h1>\n      <button type=\"button\" onClick={refreshData}>\n        Renew UserInfo\n      </button>\n      <p>{user.loading ? 'Loading...' : JSON.stringify(user.data)}</p>\n    </div>\n  )\n}\n\nexport default UserInfo\n","import { todosReducer, todosInitialState } from '../components/TodosList'\nimport { userInitialState, userReducer } from '../components/UserInfo'\n\nexport const initialState = {\n  todos: todosInitialState,\n  user: userInitialState,\n}\n\nexport default ({ todos, user }, action) => ({\n  todos: todosReducer(todos, action),\n  user: userReducer(user, action),\n})\n","import { todosMiddleware } from '../components/TodosList'\nimport { userMiddleware } from '../components/UserInfo'\n\nexport default [\n  dispatch => todosMiddleware(dispatch),\n  dispatch => userMiddleware(dispatch),\n]\n","import React, { useContext, createContext, useReducer } from 'react'\n\nimport { middlewareCaller } from '../helpers'\nimport reducer, { initialState } from './reducers'\nimport middlewares from './middlewares'\n\nconst Context = createContext()\n\nexport const useStore = () => useContext(Context)\n\nexport const ContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  middlewareCaller(dispatch, middlewares)\n\n  return (\n    <Context.Provider value={{ dispatch, ...state }}>\n      {children}\n    </Context.Provider>\n  )\n}\n","import { useEffect } from 'react'\n\nexport default (dispatch, middlewares) => useEffect(() => {\n  middlewares.forEach((func) => {\n    func(dispatch)\n  })\n}, [dispatch, middlewares])\n","import React, { Fragment } from 'react'\n\nimport { ContextProvider } from './store'\nimport { UserInfo, TodosList } from './components'\n\nconst App = () => (\n  <ContextProvider>\n    <Fragment>\n      <UserInfo />\n      <TodosList />\n    </Fragment>\n  </ContextProvider>\n)\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}